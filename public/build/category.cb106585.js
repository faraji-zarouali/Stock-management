(self.webpackChunk=self.webpackChunk||[]).push([[34],{7237:(e,t,a)=>{var r=a(9755),o=a(8901);a(4338),a(8324),a(4284),a(9749),a(6544),a(6203),r(document).ready((function(){var e=r("#category-datatable").DataTable({pageLength:8,lengthMenu:[[8,25,50,-1],[8,25,50,"All"]],ajax:{url:Routing.generate("app_category_getlist")},order:[[0,"asc"]],columns:[{name:"c.id",data:"id",orderable:!0,searchable:!0},{name:"c.name",data:"name",orderable:!0,searchable:!0},{name:"c.description",data:"description",orderable:!0,searchable:!0},{name:"c.code",data:"code",orderable:!0,searchable:!0},{name:"c.isActive",data:"isActive",render:function(e){return'<i class="'+(e?"fas fa-check text-success":"fas fa-times text-danger")+'"></i>'},orderable:!1},{data:"id",render:function(e,t,a){var r='<button class="btn btn-'.concat(a.status?"danger":"secondary",' action-button" data-category-id="').concat(e,'">Activate</button>'),o='<button class="btn btn-primary edit-button" data-category-id="'.concat(e,'">Update</button>');return"".concat(r," ").concat(o)}}],dom:"Bfrtip"});r("body").on("click","#add-category-button",(function(){r("#add-category-modal").modal("show")})),r("#add-category-modal").on("click","#add-category-btn",(function(){var t={name:r("#newCategoryName").val(),description:r("#newCategoryDescription").val(),code:r("#newCategoryCode").val()};r.ajax({url:Routing.generate("app_new_category"),type:"POST",contentType:"application/json",data:JSON.stringify(t),success:function(t,a,n){200===n.status?(e.ajax.reload(null,!1),r("#add-category-modal").modal("hide"),r("#newCategoryName").val(""),r("#newCategoryDescription").val(""),r("#newCategoryCode").val(""),o.success("New category Added successfully","Success")):console.error("Unexpected success status code:",n.status)},error:function(e){e.responseJSON&&e.responseJSON.errors?o.error(e.responseJSON.errors):o.error("An error occurred")}})})),r("body").on("click",".edit-button",(function(){var e=r(this).data("category-id");r.ajax({url:Routing.generate("app_get_category",{id:e}),type:"GET",success:function(e){r("#cId").val(e.category.id),r("#editCategoryName").val(e.category.name),r("#editCategorydescription").val(e.category.description),r("#editCategoryCode").val(e.category.code),r("#edit-category-modal").modal("show")}})})),r(".modal").on("click","#edit-category-btn",(function(){var t={id:r("#cId").val(),name:r("#editCategoryName").val(),description:r("#editCategorydescription").val(),code:r("#editCategoryCode").val()};r.ajax({url:Routing.generate("app_update_category"),type:"POST",contentType:"application/json",data:JSON.stringify(t),success:function(t,a,n){console.log(t),200===n.status?(e.ajax.reload(null,!1),r("#edit-category-modal").modal("hide"),o.success("Update successfully","Success")):console.error("Unexpected success status code:",n.status)},error:function(e){e.responseJSON&&e.responseJSON.errors?(o.error(e.responseJSON.errors),o.error("Validation errors:\n"+e.responseJSON.errors.join("\n"))):o.error("An error occurred")}})})),r("body").on("click",".action-button",(function(){var t=r(this).data("category-id");r.ajax({url:Routing.generate("app_update_category_status",{id:t}),type:"GET",success:function(t,a,r){console.log(t),200===r.status?(e.ajax.reload(null,!1),o.success("Status Update successfully","Success")):console.error("Unexpected success status code:",r.status)},error:function(e,t,a){console.error("Status Update failed:",a),e.status>=400&&e.status<500?alert("Status Update failed: Client error"):e.status>=500&&alert("Status Update failed: Server error")}})}))}))},9042:(e,t,a)=>{"use strict";var r=a(3689),o=a(4201),n=a(3615),c=o("species");e.exports=function(e){return n>=51||!r((function(){var t=[];return(t.constructor={})[c]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},6834:(e,t,a)=>{"use strict";var r=a(3689);e.exports=function(e,t){var a=[][e];return!!a&&r((function(){a.call(null,t||function(){return 1},1)}))}},4338:(e,t,a)=>{"use strict";var r=a(9989),o=a(3689),n=a(2297),c=a(8999),s=a(690),i=a(6310),d=a(5565),u=a(6522),l=a(7120),g=a(9042),p=a(4201),y=a(3615),f=p("isConcatSpreadable"),v=y>=51||!o((function(){var e=[];return e[f]=!1,e.concat()[0]!==e})),b=function(e){if(!c(e))return!1;var t=e[f];return void 0!==t?!!t:n(e)};r({target:"Array",proto:!0,arity:1,forced:!v||!g("concat")},{concat:function(e){var t,a,r,o,n,c=s(this),g=l(c,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(b(n=-1===t?c:arguments[t]))for(o=i(n),d(p+o),a=0;a<o;a++,p++)a in n&&u(g,p,n[a]);else d(p+1),u(g,p++,n);return g.length=p,g}})},6203:(e,t,a)=>{"use strict";var r=a(9989),o=a(8844),n=a(4413),c=a(5290),s=a(6834),i=o([].join);r({target:"Array",proto:!0,forced:n!==Object||!s("join",",")},{join:function(e){return i(c(this),void 0===e?",":e)}})},4284:(e,t,a)=>{"use strict";var r=a(7697),o=a(1236).EXISTS,n=a(8844),c=a(2148),s=Function.prototype,i=n(s.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=n(d.exec);r&&!o&&c(s,"name",{configurable:!0,get:function(){try{return u(d,i(this))[1]}catch(e){return""}}})}},e=>{e.O(0,[755,393,816],(()=>{return t=7237,e(e.s=t);var t}));e.O()}]);