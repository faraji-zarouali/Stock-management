(self.webpackChunk=self.webpackChunk||[]).push([[279],{8428:(e,t,r)=>{var n=r(9755),a=r(8901);r(4338),r(5728),r(228),r(8324),r(6203),n(document).ready((function(){var e=n("#user-datatable").DataTable({processing:!0,serverSide:!0,pageLength:8,lengthMenu:[[8,25,50,-1],[8,25,50,"All"]],ajax:{url:Routing.generate("app_user_getlist"),datasrc:function(e){e.draw=e.draw||0,e.start=e.start||0,e.length=e.length||15}},order:[[0,"asc"]],columns:[{name:"u.id",data:"id",orderable:!0,searchable:!0},{name:"u.email",data:"email",orderable:!0,searchable:!0},{name:"u.roles",data:"roles",render:function(e){return"ROLE_USER"==e?"ROLE_USER":"ROLE_ADMIN"}},{name:"u.status",data:"status",render:function(e){return'<i class="'+(e?"fas fa-user":"fas fa-user-slash")+'" ></i>'}},{data:"id",render:function(e,t,r){var n='<button class="btn btn-'.concat(r.status?"danger":"secondary",' action-button" data-user-id="').concat(e,'">').concat(r.status?"Deactivate":"Activate","</button>"),a='<button class="btn btn-primary edit-button" data-user-id="'.concat(e,'">Update</button>');return"".concat(n," ").concat(a)}}],dom:"Bfrtip"});n("body").on("click","#add-user-button",(function(){n("#add-user-modal").modal("show")})),n("#add-user-modal").on("click","#add-user-btn",(function(){var t={email:n("#newUserEmail").val(),role:n("#newUserRole").find(":selected").val(),password:n("#newUserPassword").val()};n.ajax({url:Routing.generate("app_new_user"),type:"POST",contentType:"application/json",data:JSON.stringify(t),success:function(t,r,s){if(200===s.status){var o=e.page();e.ajax.reload((function(){e.page(o).draw("page")})),n("#add-user-modal").modal("hide"),n("#newUserEmail").val(""),n("#newUserRole").val("ROLE_USER"),n("#newUserPassword").val(""),a.success("New User Added successfully","Success")}else console.error("Unexpected success status code:",s.status)},error:function(e){409===e.status?a.error("Email is already in use"):e.responseJSON&&e.responseJSON.errors?a.error(e.responseJSON.errors):a.error("An error occurred")}})})),n("body").on("click",".action-button",(function(){var t=n(this).data("user-id");n.ajax({url:Routing.generate("app_update_user_status",{id:t}),type:"GET",success:function(t,r,n){if(console.log(t),200===n.status){var s=e.page();e.ajax.reload((function(){e.page(s).draw("page")})),a.success("Status Update successfully","Success")}else console.error("Unexpected success status code:",n.status)},error:function(e,t,r){console.error("Status Update failed:",r),e.status>=400&&e.status<500?alert("Status Update failed: Client error"):e.status>=500&&alert("Status Update failed: Server error")}})})),n("body").on("click",".edit-button",(function(){var e=n(this).data("user-id");n.ajax({url:Routing.generate("app_get_user",{id:e}),type:"GET",success:function(e){n("#uId").val(e.user.id),n("#email").val(e.user.email),n("#role").val(e.user.roles),n("#edit-modal").modal("show")}})})),n(".modal").on("click","#btnUpdateSubmit",(function(){var t={id:n("#uId").val(),email:n("#email").val(),role:n("#role").find(":selected").val()};n.ajax({url:Routing.generate("app_update_user"),type:"POST",contentType:"application/json",data:JSON.stringify(t),success:function(t,r,s){if(console.log(t),200===s.status){var o=e.page();e.ajax.reload((function(){e.page(o).draw("page")})),n("#edit-modal").modal("hide"),a.success("Update successfully","Success")}else console.error("Unexpected success status code:",s.status)},error:function(e){e.responseJSON&&e.responseJSON.errors?(a.error(e.responseJSON.errors),a.error("Validation errors:\n"+e.responseJSON.errors.join("\n"))):a.error("An error occurred")}})}))}))},7370:(e,t,r)=>{"use strict";var n=r(4201),a=r(5391),s=r(2560).f,o=n("unscopables"),u=Array.prototype;void 0===u[o]&&s(u,o,{configurable:!0,value:a(null)}),e.exports=function(e){u[o][e]=!0}},2960:(e,t,r)=>{"use strict";var n=r(4071),a=r(8844),s=r(4413),o=r(690),u=r(6310),c=r(7120),i=a([].push),d=function(e){var t=1===e,r=2===e,a=3===e,d=4===e,l=6===e,f=7===e,p=5===e||l;return function(v,g,m,b){for(var y,h,w=o(v),S=s(w),O=n(g,m),j=u(S),x=0,U=b||c,R=t?U(v,j):r||f?U(v,0):void 0;j>x;x++)if((p||x in S)&&(h=O(y=S[x],x,w),e))if(t)R[x]=h;else if(h)switch(e){case 3:return!0;case 5:return y;case 6:return x;case 2:i(R,y)}else switch(e){case 4:return!1;case 7:i(R,y)}return l?-1:a||d?d:R}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},9042:(e,t,r)=>{"use strict";var n=r(3689),a=r(4201),s=r(3615),o=a("species");e.exports=function(e){return s>=51||!n((function(){var t=[];return(t.constructor={})[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},6834:(e,t,r)=>{"use strict";var n=r(3689);e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},4071:(e,t,r)=>{"use strict";var n=r(6576),a=r(509),s=r(7215),o=n(n.bind);e.exports=function(e,t){return a(e),void 0===t?e:s?o(e,t):function(){return e.apply(t,arguments)}}},6576:(e,t,r)=>{"use strict";var n=r(6648),a=r(8844);e.exports=function(e){if("Function"===n(e))return a(e)}},2688:(e,t,r)=>{"use strict";var n=r(6058);e.exports=n("document","documentElement")},5391:(e,t,r)=>{"use strict";var n,a=r(5027),s=r(8920),o=r(2739),u=r(7248),c=r(2688),i=r(6420),d=r(2713),l="prototype",f="script",p=d("IE_PROTO"),v=function(){},g=function(e){return"<"+f+">"+e+"</"+f+">"},m=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;b="undefined"!=typeof document?document.domain&&n?m(n):(t=i("iframe"),r="java"+f+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(g("document.F=Object")),e.close(),e.F):m(n);for(var a=o.length;a--;)delete b[l][o[a]];return b()};u[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(v[l]=a(e),r=new v,v[l]=null,r[p]=e):r=b(),void 0===t?r:s.f(r,t)}},8920:(e,t,r)=>{"use strict";var n=r(7697),a=r(5648),s=r(2560),o=r(5027),u=r(5290),c=r(300);t.f=n&&!a?Object.defineProperties:function(e,t){o(e);for(var r,n=u(t),a=c(t),i=a.length,d=0;i>d;)s.f(e,r=a[d++],n[r]);return e}},300:(e,t,r)=>{"use strict";var n=r(4948),a=r(2739);e.exports=Object.keys||function(e){return n(e,a)}},5073:(e,t,r)=>{"use strict";var n=r(3043),a=r(926);e.exports=n?{}.toString:function(){return"[object "+a(this)+"]"}},4338:(e,t,r)=>{"use strict";var n=r(9989),a=r(3689),s=r(2297),o=r(8999),u=r(690),c=r(6310),i=r(5565),d=r(6522),l=r(7120),f=r(9042),p=r(4201),v=r(3615),g=p("isConcatSpreadable"),m=v>=51||!a((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),b=function(e){if(!o(e))return!1;var t=e[g];return void 0!==t?!!t:s(e)};n({target:"Array",proto:!0,arity:1,forced:!m||!f("concat")},{concat:function(e){var t,r,n,a,s,o=u(this),f=l(o,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(b(s=-1===t?o:arguments[t]))for(a=c(s),i(p+a),r=0;r<a;r++,p++)r in s&&d(f,p,s[r]);else i(p+1),d(f,p++,s);return f.length=p,f}})},5728:(e,t,r)=>{"use strict";var n=r(9989),a=r(2960).find,s=r(7370),o="find",u=!0;o in[]&&Array(1)[o]((function(){u=!1})),n({target:"Array",proto:!0,forced:u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s(o)},6203:(e,t,r)=>{"use strict";var n=r(9989),a=r(8844),s=r(4413),o=r(5290),u=r(6834),c=a([].join);n({target:"Array",proto:!0,forced:s!==Object||!u("join",",")},{join:function(e){return c(o(this),void 0===e?",":e)}})},228:(e,t,r)=>{"use strict";var n=r(3043),a=r(1880),s=r(5073);n||a(Object.prototype,"toString",s,{unsafe:!0})}},e=>{e.O(0,[755,393],(()=>{return t=8428,e(e.s=t);var t}));e.O()}]);